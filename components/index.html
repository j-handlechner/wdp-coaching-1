<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reusable UI Components</title>

    <style>
      /* ---------- Global Style ---------- */
      body {
        font-family: system-ui, sans-serif;
        margin: 40px;
        background: #fafafa;
        color: #222;
        line-height: 1.5;
      }

      h2 {
        margin-top: 40px;
      }

      /* ---------- Accordion ---------- */
      .accordion {
        width: 100%;
        max-width: 600px;
        border-radius: 8px;
        border: 1px solid #ddd;
        background: #fff;
        overflow: hidden;
      }

      .accordion-item + .accordion-item {
        border-top: 1px solid #eee;
      }

      .accordion-header {
        padding: 14px 16px;
        cursor: pointer;
        background: #fff;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.2s ease;
      }

      .accordion-header:hover {
        background: #f4f4f4;
      }

      .accordion-header span {
        font-size: 14px;
        opacity: 0.6;
        transition: transform 0.2s ease;
      }

      .accordion-header.active span {
        transform: rotate(90deg);
      }

      .accordion-content {
        height: 0;
        overflow: hidden;
        transition: height 0.3s ease;
      }

      .accordion-inner {
        padding: 16px;
      }

      /* ---------- Loading Spinner ---------- */

      .spinners-wrapper {
        display: flex;
        align-items: center;
        gap: 3rem;
      }

      .spinner {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: 3px solid #ccc;
        border-top-color: #222;
        animation: spin 0.7s linear infinite;
        margin: 20px 0;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .loader-dots,
      .loader-dots:before,
      .loader-dots:after {
        border-radius: 50%;
        width: 2.5em;
        height: 2.5em;
        animation-fill-mode: both;
        animation: bblFadInOut 1.8s infinite ease-in-out;
        display: block;
      }
      .loader-dots {
        color: black;
        font-size: 7px;
        position: relative;
        top: -2.5em;
        text-indent: -9999em;
        transform: translateZ(0);
        animation-delay: -0.16s;
      }
      .loader-dots:before,
      .loader-dots:after {
        content: "";
        position: absolute;
        top: 0;
      }
      .loader-dots:before {
        left: -3.5em;
        animation-delay: -0.32s;
      }
      .loader-dots:after {
        left: 3.5em;
      }

      @keyframes bblFadInOut {
        0%,
        80%,
        100% {
          box-shadow: 0 2.5em 0 -1.3em;
        }
        40% {
          box-shadow: 0 2.5em 0 0;
        }
      }

      /* ---------- Image w/ Loading State ---------- */
      .image-wrapper {
        position: relative;
        width: 50vw;
        aspect-ratio: 3 / 4;
        background: #e3e3e3;
        border-radius: 8px;
        overflow: hidden;
      }

      .image-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .image-wrapper.loaded img {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <h1>Reusable UI Components Demo</h1>

    <!-- ---------------- Accordion ---------------- -->
    <h2>Accordion</h2>
    <div class="accordion">
      <div class="accordion-item">
        <div class="accordion-header">
          Smooth Accordion
          <span>▶</span>
        </div>
        <div class="accordion-content">
          <div class="accordion-inner">
            This accordion animates smoothly because we animate height only.
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header">
          No More Padding Pop
          <span>▶</span>
        </div>
        <div class="accordion-content">
          <div class="accordion-inner">
            The padding never disappears — it sits on a stable inner container.
          </div>
        </div>
      </div>
    </div>

    <!-- ---------------- Loading Spinner ---------------- -->
    <h2>Loading Spinner</h2>
    <div class="spinners-wrapper">
      <div class="spinner"></div>
      <span class="loader-dots"></span>
    </div>

    <!-- ---------------- Image With Background Loading State ---------------- -->
    <h2>Image With Loading State</h2>

    <div class="image-wrapper" id="imgContainer">
      <img src="https://images.unsplash.com/photo-1637940669070-e7d5ce16e352" />
    </div>

    <script>
      /* ---------- Accordion Logic ---------- */
      document.querySelectorAll(".accordion-header").forEach((header) => {
        header.addEventListener("click", () => {
          const content = header.nextElementSibling;

          // Toggle arrow
          header.classList.toggle("active");

          if (content.style.height && content.style.height !== "0px") {
            // Closing
            content.style.height = content.scrollHeight + "px"; // set fixed height first
            requestAnimationFrame(() => {
              content.style.height = "0px";
            });
          } else {
            // Opening
            const scrollHeight = content.scrollHeight;
            content.style.height = scrollHeight + "px";

            // After animation ends, remove fixed height so content can be responsive
            content.addEventListener(
              "transitionend",
              () => {
                if (header.classList.contains("active")) {
                  content.style.height = "auto";
                }
              },
              { once: true }
            );
          }
        });
      });
      /* ---------- Image Loading State Logic ---------- */
      const wrapper = document.getElementById("imgContainer");
      const image = wrapper.querySelector("img");

      image.addEventListener("load", () => {
        wrapper.classList.add("loaded");
      });
    </script>
  </body>
</html>
